# RUN: llc -mtriple=x86_64-- -run-pass=shrink-wrap2 %s -enable-shrink-wrap2=true -debug-only=shrink-wrap2 -o /dev/null 2>&1 | FileCheck %s
# REQUIRE: asserts
---
name:            fun
body:             |
  bb.0:
    successors: %bb.2, %bb.1

    JE_1 %bb.2, implicit killed %eflags
    JMP_1 %bb.1

  bb.1:
    successors: %bb.3

    %rbx = COPY %rsp
    JMP_1 %bb.3

  bb.2:
    RET 0

  bb.3:
    %rax = MOV64rm killed %rbx, 1, _, 0, _
    RET 0, %rax
...
#CHECK-LABEL: fun

#CHECK: BB#1 uses : %RBX
#CHECK-NEXT: BB#3 uses : %RBX
#CHECK: **** Shrink-wrapping results ****
#CHECK-NEXT: BB#1: Saves: %RBX, | Restores:
#CHECK-NEXT: BB#3: Saves: | Restores: %RBX,

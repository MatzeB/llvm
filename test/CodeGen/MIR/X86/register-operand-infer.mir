# RUN: llc -march=x86-64 -start-after machine-sink -stop-after machine-sink -o - %s | FileCheck %s
# Test register class inference
--- |
  define void @f() { ret void }
...
---
# CHECK-LABEL: name: f
# CHECK: registers:
# CHECK:   - { id: 0, class: gr32 }
# CHECK:   - { id: 1, class: gr32 }
# CHECK:   - { id: 2, class: gr64 }
name: f
body: |
  bb.0:
    %0.sub_32bit : gr64 = MOV32ri 42
    %1 = MOV32ri 14
    %2 = LEA32r %0, 1, %1, 0, %noreg
    RETQ %2
...
